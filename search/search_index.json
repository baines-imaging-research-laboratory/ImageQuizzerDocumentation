{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#welcome-to-image-quizzers-documentation","title":"Welcome to Image Quizzer's Documentation","text":"<p>The Image Quizzer is a customizeable tool that allows for the easy creation of observer studies or learning aids. The module runs on the 3D Slicer platform. It enables medical image review and contouring/annotation, collection of answers to customizable questions for each image, and will capture responses and contours for offline analysis. A study administrator can customize a script defining the appearance and flow of the study using a simple eXtensible Markup Language (XML) editor. No programming skills are required. The tool can be run from any computer, enabling the observer to perform the study at their convenience with no supervision.    </p> <p>\u2502</p>"},{"location":"about/","title":"Image Quizzer","text":"<p>version 2.2  </p> <p>Credits: Carol A. Johnson1 (Author), David A. Palma1-3, Aaron D. Ward1-3 (Research Supervisor) 1Baines Imaging Research Laboratory, London Regional Cancer Program, London, Canada; Department of 2Medical Biophysics, 3Department of Oncology, Western University, London, Canada</p> <p></p> <p>Baines Imaging Research Laboratories</p>"},{"location":"administrator/","title":"Administrator guide","text":""},{"location":"administrator/#overview","title":"Overview","text":"<p>Setting up the quiz xml is best done using a trial and error approach. The basic elements of the quiz include the Session and Page elements.</p>"},{"location":"administrator/#set-up-a-simple-quiz","title":"Set up a simple quiz","text":"<p>Start with the bare minimum and run it throught the Image Quizzer.</p>"},{"location":"administrator/#expand-to-add-in-more-features","title":"Expand to add in more features","text":"<p>Add in more features. It is recommended to only set up one full page. Then a copy/paste with adjustments to make the pages unique </p>"},{"location":"administrator/build/","title":"Build a quiz","text":"<p>The Image Quizzer is controlled by a script that is written using eXtensible Markup Language (XML) formatting.  This script defines what images and questions are to be displayed and in what order.  It can be created using a simple editor like Notepad.</p> <p>Tip</p> <p>Notepad++ has a plugin for XML tools that can be downloaded to help check syntax as you build your quiz. This can be used in conjuction with the ImageQuizzer.xsd schema file found in the Resources\\XML folder.</p>"},{"location":"administrator/build/#simple-quiz-example","title":"Simple quiz example","text":"<p>Here is a screenshot of a very simple quiz followed by the script that was used to create it.</p> <p></p> <p>Script for the Simple Quiz example.</p> <p>SimpleScript.xml</p> <pre><code>&lt;Session&gt;\n    &lt;Page ID=\"Patient 1\"&gt;\n        &lt;Image ID=\"CT\" Type=\"Volume\"&gt;\n                &lt;DefaultDestination&gt;Red&lt;/DefaultDestination&gt;\n                &lt;Layer&gt;Background&lt;/Layer&gt;\n                &lt;DefaultOrientation&gt;Axial&lt;/DefaultOrientation&gt;\n                &lt;Path&gt;ImageVolumes\\CTChest\\CTChest.nrrd&lt;/Path&gt;\n        &lt;/Image&gt;\n        &lt;QuestionSet&gt;\n            &lt;Question Type=\"CheckBox\"&gt;\n                &lt;Option&gt;Learning Tool&lt;/Option&gt;\n                &lt;Option&gt;Observer Study&lt;/Option&gt;\n            &lt;/Question&gt;\n        &lt;/QuestionSet&gt;\n    &lt;/Page&gt;\n&lt;/Session&gt;\n</code></pre>"},{"location":"administrator/build/#simple-quiz-elements-and-layout","title":"Simple quiz elements and layout","text":"<p>Following describes the basic elements of the above script and the screen layout.  See details for each element and their attributes in the Elements and attributes section of this documentation.</p> Element Description Session The root of the script containing all elements of the quiz. Page What appears in the 3D Slicer layout. This includes the images on the right side and the quiz on the left side. QuestionSet An element that containes a group of questions. Question An element that contains a group of options. Option An individual item that forms part of the question. <p></p>"},{"location":"administrator/build/#expanding-your-quiz","title":"Expanding your quiz","text":"<p>There are many XML elements and attributes available to customize your quiz. Refer to the Elements and attributes section for details.</p> <p>Tip</p> <p>When working on quizzes that have a specific set of questions to be asked for numerous images, start the build process using the basic required elements for one Page.  Test this in Slicer to make sure it displays what you want. Then you can copy/paste the pages, update the Image Path element and the ID &amp; Description attributes.</p>"},{"location":"administrator/install/","title":"Installation","text":"<p>This is how to install the Image Quizzer</p> <pre><code>.\n\u251c\u2500 docs/\n\u2502  \u2514\u2500 stylesheets/\n\u2502     \u2514\u2500 extra.css\n\u2514\u2500 mkdocs.yml\n</code></pre>"},{"location":"administrator/install/#3d-slicer-setup","title":"3D Slicer Setup","text":"<p>This is how to install and set up 3D Slicer</p>"},{"location":"administrator/install/#connect-the-modules","title":"Connect the modules","text":"<p>This is how to add the module to Slicer</p>"},{"location":"administrator/results/","title":"Results file","text":"<p>When the user first logs in to the Image Quizzer, a results file is created with the same name as the original file. This file is placed in the User/Username folder that gets created on the first login.</p> <p>For example, Observer1 has logged in to run the ObserverContouringStudy quiz. The administrator has placed all the image volumes for this study in the folder ImageDatabase. When the user logs in to the quiz session, he/she has to browse to the ImageDatabase folder.</p> <p>TODO: Login screen shot</p> <p>The results file will be found here:</p> <pre><code>.\n\u2514\u2500ImageDatabase/\n   \u251c\u2500SlicerDicomDatabse/\n   \u2514\u2500Users/\n     \u2514\u2500Observer1/\n       \u2514\u2500ObserverContouringStudy.xml\n</code></pre> <p>This is a copy of the original quiz as set up by the administrator. As the quiz progresses throughout the user's login session, elements and attributes are added to capture various pieces of information (responses, login times, username etc.) as described below.</p> <p>Note</p> <p>The SlicerDicomDatabase folder is created automatically by Slicer to manage information about DICOM data.</p>"},{"location":"administrator/results/#user-name","title":"User name","text":"<p>Once a user has logged in to the Image Quizzer, the attribute UserName will be added to the element capturing the Windows defined user name. This allows you to keep track of who the results file belongs to, as long as each user has his/her own login profile.</p> <pre><code>&lt;Session UserName=\"Observer1\"&gt;\n    &lt;Page&gt;\n        ...\n    &lt;/Page&gt;\n&lt;/Session&gt;\n</code></pre>"},{"location":"administrator/results/#login-element","title":"Login element","text":"<p>When the user first logs in, a &lt;Login&gt; element is added to the results XML file. It holds the login and logout times for the user's session. </p> <pre><code>&lt;Login LoginTime=\"20221129_16:35:07.894893\" LogoutTime=\"20221129_17:37:36.548557\"/&gt;\n</code></pre> <p>When the user completes the assigned quiz, a QuizComplete=\"y\" attribute is added to this element.</p> <pre><code>&lt;Login LoginTime=\"20221129_16:35:07.894893\" LogoutTime=\"20221129_17:37:36.548557\" QuizComplete=\"Y\"/&gt;\n</code></pre>"},{"location":"administrator/elements_attributes/","title":"Elements and attributes","text":"<p>The quiz file is set up with XML elements. Special attributes are associated with  each element. The combinatin of elements and attributes enables the administrator to customize how the Image Quizzer display will display the images and questions and in what order.</p> <p>The following table defines the basic elements of the quiz. Some of these elements have sub-elements. Each element and their associated attributes have been described in detail in their respective sections in this documentation.</p> Element Description Session The root of the script containing all elements of the quiz. Page What appears in the Slicer layout containing groups of images and question sets. Image An element that defines how and where an image is displayed. QuestionSet An element that contains a group of questions. Question An element that contains a group of options. Option An individual item that forms part of the question."},{"location":"administrator/elements_attributes/page/","title":"Page element","text":"<pre><code>&lt;Session&gt;\n  &lt;Page&gt;\n    ...\n  &lt;/Page&gt;\n&lt;/Session&gt;\n</code></pre>"},{"location":"administrator/elements_attributes/page/looping/","title":"Looping Pages","text":""},{"location":"administrator/elements_attributes/page/looping/#script-setup","title":"Script Setup","text":""},{"location":"administrator/elements_attributes/page/looping/#next-button","title":"Next Button","text":""},{"location":"administrator/elements_attributes/page/looping/#changes-to-results-folder","title":"Changes to results folder","text":""},{"location":"administrator/elements_attributes/session/","title":"Session","text":""},{"location":"administrator/elements_attributes/session/#specs","title":"Specs","text":"Name Session Classification element Parent - Required yes Syntax &lt;Session&gt;"},{"location":"administrator/elements_attributes/session/#description","title":"Description","text":"<p>Session is the root element in the XML tree. It is must exist in the XML quiz file as the outermost element.  It encompasses all the child Page elements defined for the study.</p>"},{"location":"administrator/elements_attributes/session/#example","title":"Example","text":"<pre><code>&lt;Session&gt;\n    &lt;Page&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page&gt;\n        ...\n    &lt;/Page&gt;\n&lt;/Session&gt;\n</code></pre>"},{"location":"administrator/elements_attributes/session/contour-visibility/","title":"Contour Visibility","text":""},{"location":"administrator/elements_attributes/session/contour-visibility/#specs","title":"Specs","text":"Name ContourVisibility Classification attribute Parent Session Required no Syntax ContourVisibility=\"option\" Options Outline (default) Fill"},{"location":"administrator/elements_attributes/session/contour-visibility/#description","title":"Description","text":"<p>The ContourVisibility attribute defines how contours  (label maps or segmentations) are displayed for the entire quiz - as an outline only or as a solid contour. The user has an opportunity to override this setting using the visibility toggle in  the Extra Tools tab.</p>"},{"location":"administrator/elements_attributes/session/contour-visibility/#options","title":"Options","text":"<ul> <li>Outline (default)</li> <li>display contours as outline only</li> <li>Fill     display as solid contours</li> </ul>"},{"location":"administrator/elements_attributes/session/contour-visibility/#example","title":"Example","text":""},{"location":"administrator/elements_attributes/session/email/","title":"Email results","text":""},{"location":"administrator/elements_attributes/session/email/#specs","title":"Specs","text":"Name EmailResultsTo Classification attribute Parent &lt;Session&gt; Required no Syntax EmailResultsTo=\"youremailaddress@example.com\""},{"location":"administrator/elements_attributes/session/email/#description","title":"Description","text":"<p>A feature of the Image Quizzer is to have a user's results folder emailed to the administrator upon completion of the quiz. Upon completion of the quiz, the user will be prompted to initiate the email process.</p> <p>The user has the option to delay the email process if he/she wants to review the quiz. If the user logs back in to review the quiz after quiz completion, the Image Quizzer will automatically prompt the user to initiate the email process. This is described in further detail in the section Generating zip results file.</p>"},{"location":"administrator/elements_attributes/session/email/#setup","title":"Setup","text":"<p>In order to activate this feature, there are 2 steps required.</p> <ul> <li>Create the file 'smtp_config.txt' in the Resources/Config directory:</li> <li>The administrator must add the 'EmailResultsTo' attribute to the Session element in the quiz xml file. </li> </ul>"},{"location":"administrator/elements_attributes/session/email/#smtp_config","title":"smtp_config","text":"<pre><code>Currently in this directory, you will find smtp_config_template.txt.\n</code></pre> <pre><code>.../\n   \u2514\u2500ImageQuizzer/\n     \u2514\u2500Resources/\n       \u2514\u2500Config/\n         \u2514\u2500smtp_config_template.txt\n</code></pre> <p>Copy this file and rename it smtp_config.txt to be edited with your  host email server details.</p> <pre><code>.../\n   \u2514\u2500ImageQuizzer/\n     \u2514\u2500Resources/\n       \u2514\u2500Config/\n         \u2514\u2500smtp_config_template.txt\n         \u2514\u2500smtp_config.txt\n</code></pre> <p>Following is the smtp_config.txt format:</p> <pre><code>[smtp]\nhost=your_host_server\nusername=address_of_your_host_email_account@example.com\npassword=app_password_of_your_host_email_account\nport=your_host_server_port_here\n</code></pre>"},{"location":"administrator/elements_attributes/session/email/#emailresultsto-attribute","title":"EmailResultsTo attribute","text":"<pre><code>&lt;Session EmailResultsTo=\"youremailaddress@example.com\"&gt;\n    ...\n&lt;/Session&gt;\n</code></pre>"},{"location":"administrator/elements_attributes/session/email/#zip-results-file","title":"Zip results file","text":"<p>With config file and attribute setup complete, the email process will begin once the user has completed the quiz and has pressed the Finish button. First, the user will see a pop-up window to confirm that the user wants to exit the quiz.</p> <p></p> <p>Pressing the OK button to exit will mark the quiz as complete and all responses are locked. Then the user is then prompted to email the results.</p> <p></p> <p>If 'Yes' is pressed, the module will zip up the user's quiz results folder (quizname.zip) and place it in the same folder where the quiz results are located. The zip file includes the results XML file as well as any Page folders containing  contour and markup files if any exist.</p> <pre><code>.\n\u2514\u2500ImageDatabase/\n   \u251c\u2500SlicerDicomDatabse/\n   \u2514\u2500Users/\n     \u251c\u2500Observer1/\n     \u2502 \u2514\u2500ObserverContouringStudy.zip\n     \u2502 \u2514\u2500ObserverContouringStudy.xml\n     \u251c\u2500Page1/\n     \u251c\u2500Page2/\n     \u2502...\n</code></pre> <p>This zip file will be attached to the email contents and sent to the email address assigned to the 'EmailResultsTo' attribute.</p> <p>If the user presses 'No' to the email prompt, the user can still reopen the quiz to email the results at a later time. When restarting the Image Quizzer to review a completed quiz, the following prompt will appsear:</p> <p></p> <p>If 'Yes' is pressed, the user can review the images but recorded responses can not be modified. During the review the user can either press Exit to start the exit/email processes or press Next until the last Page and QuestionSet is reached to start the exit/email stage.</p> <p>If 'No' is pressed, the module will take you directly to the exit and email stage.</p>"},{"location":"administrator/elements_attributes/session/randomizing/","title":"Randomize pages","text":""},{"location":"administrator/elements_attributes/session/randomizing/#randomizing-pages","title":"Randomizing Pages","text":"<p>Page 0 Grouping of patients (pages) groups and subgroups</p>"},{"location":"administrator/elements_attributes/session/roi_colorfile/","title":"ROI Color File","text":""},{"location":"administrator/elements_attributes/session/roi_colorfile/#specs","title":"Specs","text":"Name ROIColorFile Classification attribute Parent &lt;Session&gt; Required no Syntax ROIColorFile=\"colorfilename.txt\""},{"location":"administrator/elements_attributes/session/roi_colorfile/#description","title":"Description","text":"<p>The ROIColorFile attribute gives the administrator the ability to assign specific ROI names and colors that will appear as options when the user is contouring in the segment editor. This can be useful when you want to restrict the user to a specific set of ROI's and have each ROI categorized by color.</p>"},{"location":"administrator/elements_attributes/session/roi_colorfile/#setup","title":"Setup","text":"<p>To activate this feature, the administrator must create a .txt file in an editor using the syntax shown below. This file must be saved in the same folder as the study xml file.</p> <p>Syntax for each line in the text file:</p> <pre><code>roi# roi_name red green blue alpha\n</code></pre>"},{"location":"administrator/elements_attributes/session/roi_colorfile/#example","title":"Example","text":""},{"location":"administrator/elements_attributes/session/roi_colorfile/#setup_1","title":"Setup","text":"<p>A color file is assigned to a study for PI-Rads segmentation. The administrator creates a text file (PiRadsStudy_colors.txt) and places it in the same directory as the XML for this quiz (PIRADS_SegmentationStudy.xml).</p> <p>Tip</p> <p>In this example, these files are being placed in the default directory used by  Image Quizzer for XML files. This saves the user from having to browse to a  different directory.</p> <pre><code>.\n\u2502\n\u2514\u2500ImageQuizzer/\n  \u2514\u2500Resources/\n    \u2514\u2500XML/\n      \u251c\u2500PIRADS_SegmentationStudy.xml\n      \u2514\u2500PiRadsStudy_colors.txt\n\n</code></pre> <p>Add the attribute to the &lt;Session&gt; element.    </p> <pre><code>&lt;Session ROIColorFile=\"PiRadsStudy_colors\"&gt;\n    &lt;Page&gt;\n        ...\n    &lt;/Page&gt;\n&lt;/Session&gt;\n</code></pre> <p>Create the color text file.</p> <pre><code>PiRadsStudy_colors.txt\n\n1 PI-RADS_very_low 128 174 128 255\n2 PI-RADS_low 241 214 145 255\n3 PI-RADS_intermediate 177 122 101 255\n4 PI-RADS_high 111 184 210 255\n5 PI-RADS_very_high 191 2 34 255\n\n</code></pre>"},{"location":"administrator/elements_attributes/session/roi_colorfile/#usage","title":"Usage","text":"<p>To activate the color file popup in the Segment Editor, the user must press on the label's color bar.</p> <p></p>"},{"location":"extras/codingconventions/","title":"Coding Conventions","text":"prefix variable type i integer f float b logical s string dt datetime l list o class object dict dictionary x variable associated with xml sl variable associated with Slicer q variable associate with Python Qt compound variables ls list of strings li list of integers lls list of list of strings Examples iNumberOfCats a scalar integer oPerson an object of class Person loPets list of objects of class Pets"},{"location":"user/","title":"User Guide","text":"<p>How to run the Image Quizzer</p>"},{"location":"user/#login","title":"Login","text":"<ul> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> </ul>"},{"location":"user/#exit-and-resume","title":"Exit and Resume","text":"<ul> <li>now</li> <li>im</li> <li>in</li> <li>exit</li> </ul>"},{"location":"user/extratools/","title":"Extra Tools","text":"<p>Following are the extra tools available to the user.</p>"}]}