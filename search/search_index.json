{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#image-quizzer","title":"Image Quizzer","text":""},{"location":"#about","title":"About","text":"<p>The Image Quizzer is a customizeable tool that allows for the easy creation of observer studies or learning aids. The module runs on the 3D Slicer platform. It enables medical image review and contouring/annotation, collection of answers to customizable questions for each image, and will capture responses and contours for offline analysis. A study administrator can customize a script defining the appearance and flow of the study using a simple eXtensible Markup Language (XML) editor. No programming skills are required. The tool can be run from any computer, enabling the observer to perform the study at their convenience with no supervision.    </p>"},{"location":"#acknowledgements","title":"Acknowledgements","text":"<p>Image Quizzer</p> <p>version 2.2  </p> <p>Credits: Carol A. Johnson1 (Author), David A. Palma1-3, Aaron D. Ward1-3 (Research Supervisor) 1Baines Imaging Research Laboratory, London Regional Cancer Program, London, Canada; Department of 2Medical Biophysics, 3Department of Oncology, Western University, London, Canada</p> <p>Baines Imaging Research Laboratories</p>"},{"location":"about/","title":"Image Quizzer","text":"<p>version 2.2  </p> <p>Credits: Carol A. Johnson1 (Author), David A. Palma1-3, Aaron D. Ward1-3 (Research Supervisor) 1Baines Imaging Research Laboratory, London Regional Cancer Program, London, Canada; Department of 2Medical Biophysics, 3Department of Oncology, Western University, London, Canada</p> <p></p> <p>Baines Imaging Research Laboratories</p>"},{"location":"administrator/","title":"Administrator guide","text":""},{"location":"administrator/#overview","title":"Overview","text":"<p>Setting up the quiz XML is best done using a trial and error approach. The basic elements of the quiz include the Session and Page elements.</p>"},{"location":"administrator/#set-up-a-simple-quiz","title":"Set up a simple quiz","text":"<p>Start with the bare minimum and run the Image Quizzer through 3D Slicer.</p> <p>Once the basic building blocks are in place, add in more features.</p> <p>Tip</p> <p>It is recommended to only set up one full page to start. See how it looks and behaves when the Image Quizzer module is active. Then copy/paste the Page with ID, descriptor, image path adjustments to make the pages unique.</p> <p>See Build a quiz</p>"},{"location":"administrator/build/","title":"Build a quiz","text":"<p>The Image Quizzer is controlled by a script that is written using eXtensible Markup Language (XML) formatting.  This script defines what images and questions are to be displayed and in what order.  It can be created using a simple editor like Notepad.</p> <p>Tip</p> <p>Notepad++ has a plugin for XML tools that can be downloaded to help check syntax as you build your quiz. This can be used in conjuction with the ImageQuizzer.xsd schema file found in the Resources\\XML folder.</p> <p>Note</p> <p>When building your quiz, the administrator creates and makes changes to the original XML file. This is known throughout the documentation as the master quiz file. When the user starts a quiz session, a copy of this master quiz file, with the same name is placed in the User's folder ready to record the session responses. This is known throughout the documentation as the Results quiz file</p>"},{"location":"administrator/build/#simple-quiz-example","title":"Simple quiz example","text":"<p>Here is a screenshot of a very simple quiz followed by the script that was used to create it.</p> <p></p> <p>Script for the Simple Quiz example.</p> <p>SimpleScript.xml</p> <pre><code>&lt;Session&gt;\n    &lt;Page ID=\"Patient 1\"&gt;\n        &lt;Image ID=\"CT\" Type=\"Volume\"&gt;\n                &lt;DefaultDestination&gt;Red&lt;/DefaultDestination&gt;\n                &lt;Layer&gt;Background&lt;/Layer&gt;\n                &lt;DefaultOrientation&gt;Axial&lt;/DefaultOrientation&gt;\n                &lt;Path&gt;ImageVolumes\\CTChest\\CTChest.nrrd&lt;/Path&gt;\n        &lt;/Image&gt;\n        &lt;QuestionSet&gt;\n            &lt;Question Type=\"CheckBox\"&gt;\n                &lt;Option&gt;Learning Tool&lt;/Option&gt;\n                &lt;Option&gt;Observer Study&lt;/Option&gt;\n            &lt;/Question&gt;\n        &lt;/QuestionSet&gt;\n    &lt;/Page&gt;\n&lt;/Session&gt;\n</code></pre>"},{"location":"administrator/build/#simple-quiz-elements-and-layout","title":"Simple quiz elements and layout","text":"<p>Following describes the basic elements of the above script and the screen layout.  See details for each element and their attributes in the Elements and attributes section of this documentation.</p> Element Description Session The root of the script containing all elements of the quiz. Page What appears in the 3D Slicer layout. This includes the images on the right side and the quiz on the left side. Image An element that defines specifics of the image to display QuestionSet An element that contains a group of questions. Question An element that contains a group of options and specifics on how they are displayed. Option An individual item that forms part of the question. <p></p>"},{"location":"administrator/build/#expanding-your-quiz","title":"Expanding your quiz","text":"<p>There are many XML elements and attributes available to customize your quiz. Refer to the Elements and attributes section for details.</p> <p>Tip</p> <p>When working on quizzes that have a specific set of questions to be asked for numerous images, start the build process using the basic required elements for one Page.  Test this in Slicer to make sure it displays what you want. Then you can copy/paste the pages, update the Image Path element and the ID &amp; Description attributes.</p>"},{"location":"administrator/build/#testing-your-quiz","title":"Testing your quiz","text":"<p>When you are building your quiz, the general pattern is:</p> <pre><code>- modify/create the XML quiz file (aka __master__ quiz)\n- run ImageQuizzer for modified quiz (Image Quizzer creates a copy of the master quiz in the user folder to capture responses.)\n- make additional modifications to master quiz\n- **remove quiz folder under the Users folder**\n- run ImageQuizzer again on modified master\n</code></pre> <p>Note</p> <p>If you don't remove the results quiz folder under the User's folder, Image Quizzer will assume the user is resuming the quiz that was already started. It reads the copied quiz and your new modifications made to the master quiz will not be reflected.</p>"},{"location":"administrator/install/","title":"Installation","text":"<p>This is how to install the Image Quizzer</p>"},{"location":"administrator/install/#3d-slicer-setup","title":"3D Slicer Setup","text":"<p>This is how to install and set up 3D Slicer</p> <p>Note</p> <p>Throughout this documentation, will will refer to the 3D Slicer platform as Slicer.</p>"},{"location":"administrator/install/#connect-the-modules","title":"Connect the modules","text":"<p>This is how to add the module to Slicer</p>"},{"location":"administrator/results/","title":"Response capture","text":""},{"location":"administrator/results/#location","title":"Location","text":"<p>When the user first logs in to the Image Quizzer, a response XML file is created with the same name as the original master XML file. This file is placed in the Users/Username folder that gets created on the first login.</p> <p>For example, Observer1 has logged in to run the ObserverContouringStudy quiz. The administrator has placed all the image volumes for this study in the folder ImageQuizzerData. When the user logs in to the quiz session, he/she has to browse to the ImageDatabase folder.</p> <p></p> <p>The response XML file will be found here:</p> <pre><code>.\n\u2514\u2500ImageQuizzerData/\n   \u251c\u2500SlicerDicomDatabse/\n   \u2514\u2500Users/\n     \u2514\u2500Observer1/\n       \u2514\u2500ObserverContouringStudy.xml\n</code></pre> <p>This is a copy of the original master quiz as set up by the administrator. As the quiz progresses throughout the user's login session, elements and attributes are added to capture various pieces of information (responses, login times, username etc.) as described below.</p> <p>Note</p> <p>The SlicerDicomDatabase folder is created automatically by Slicer  when the user logs in to manage information about DICOM data.</p>"},{"location":"administrator/results/#new-elements","title":"New Elements","text":""},{"location":"administrator/results/#login","title":"Login","text":"<p>When the user first logs in, a &lt;Login&gt; element is added to the response XML file. It holds the login and logout times for the user's session. </p> <pre><code>&lt;Login LoginTime=\"20221129_16:35:07.894893\" LogoutTime=\"20221129_17:37:36.548557\"/&gt;\n</code></pre> <p>When the user completes the assigned quiz, a QuizComplete=\"y\" attribute is added to this element.</p> <pre><code>&lt;Login LoginTime=\"20221129_16:35:07.894893\" LogoutTime=\"20221129_17:37:36.548557\" QuizComplete=\"Y\"/&gt;\n</code></pre>"},{"location":"administrator/results/#randomizedpagegroupindices","title":"RandomizedPageGroupIndices","text":"<p>The &lt;RandomizedPageGroupIndices&gt; element is added to the response XML file under the &lt;Session&gt; element if the RandomizePageGroups attribute was set to \"Y\" in the Session element. The element holds the list of integers reflecting the randomized order of Page Groups used to direct the order of display of the quiz pages. If this element is not present, then randomizing of pages was not done and the Image Quizzer presented each page in the order defined in the original master quiz XML file.</p>"},{"location":"administrator/results/#new-attributes","title":"New Attributes","text":""},{"location":"administrator/results/#username","title":"UserName","text":"<p>Once a user has logged in to the Image Quizzer, the attribute UserName will be added  to the Session element capturing the Windows defined user name. This allows you to keep track of who the XML results file belongs to, as long as each user has his/her own login profile.</p> <pre><code>&lt;Session UserName=\"Observer1\"&gt;\n    &lt;Page&gt;\n        ...\n    &lt;/Page&gt;\n&lt;/Session&gt;\n</code></pre>"},{"location":"administrator/elements_attributes/","title":"Elements and attributes","text":"<p>The quiz file is set up with XML elements. Special attributes are associated with  each element. The combinatin of elements and attributes enables the administrator to customize how the Image Quizzer display will display the images and questions and in what order.</p> <p>The following table defines the basic elements of the quiz. Some of these elements have sub-elements. Each element and their associated attributes have been described in detail in their respective sections in this documentation.</p> Element Description Session The root of the script containing all elements of the quiz. Page What appears in the Slicer layout containing groups of images and question sets. Image An element that defines how and where an image is displayed. QuestionSet An element that contains a group of questions. Question An element that contains a group of options. Option An individual item that forms part of the question."},{"location":"administrator/elements_attributes/page/","title":"Page","text":""},{"location":"administrator/elements_attributes/page/#specs","title":"Specs","text":"Value Details Name Page Classification element Parent &lt;Session&gt; Required yes Syntax &lt;Page&gt; <p>See also: Image, QuestionSet, Question</p>"},{"location":"administrator/elements_attributes/page/#description","title":"Description","text":"<p>The Page element is a child of the Session element. There can be multiple pages in a quiz session. Essentially, each Page represents a snap-shot of the screen that the user will see. It defines what Images and QuestionSets (containing Questions) to display.</p> <p></p> <p>Among the many attributes allowed for the Page element, ID and Descriptor are the ones used for identification. The ID attribute is required but the Descriptor is not. However, during quiz validation, the combination of ID_Descriptor must be unique throughout all the Page elements.</p> <p>In some observer studies, each Page represents a different patient. It could also represent a time point of a Patient's clinical journey (planning, 3 month follow up, 6 month follow up etc.). Another example could be that there are multiple pages for one patient, each page holding images that represent different cancer sites (e.g. primary and secondary tumours).</p>"},{"location":"administrator/elements_attributes/page/#example","title":"Example","text":"<pre><code>&lt;Session&gt;\n  &lt;Page ID=\"Patient 1\" Descriptor=\"CT\"&gt;\n    ...\n  &lt;/Page&gt;\n  &lt;Page ID=\"Patient 2\" Descriptor=\"CT\"&gt;\n    ...\n  &lt;/Page&gt;\n\n&lt;/Session&gt;\n</code></pre>"},{"location":"administrator/elements_attributes/page/#attributes","title":"Attributes","text":""},{"location":"administrator/elements_attributes/page/#id","title":"ID","text":""},{"location":"administrator/elements_attributes/page/#descriptor","title":"Descriptor","text":""},{"location":"administrator/elements_attributes/page/#linkviews","title":"LinkViews","text":""},{"location":"administrator/elements_attributes/page/#layout","title":"Layout","text":""},{"location":"administrator/elements_attributes/page/#pagegroup","title":"PageGroup","text":""},{"location":"administrator/elements_attributes/page/#allowmultipleresponse","title":"AllowMultipleResponse","text":""},{"location":"administrator/elements_attributes/page/#enablesegmenteditor","title":"EnableSegmentEditor","text":""},{"location":"administrator/elements_attributes/page/#segmentrequiredonanyimage","title":"SegmentRequiredOnAnyImage","text":""},{"location":"administrator/elements_attributes/page/#minmarkuplinesrequiredonanyimage","title":"MinMarkupLinesRequiredOnAnyImage","text":""},{"location":"administrator/elements_attributes/page/#loop","title":"Loop","text":""},{"location":"administrator/elements_attributes/page/descriptor/","title":"Page Descriptor","text":""},{"location":"administrator/elements_attributes/page/descriptor/#specs","title":"Specs","text":"Details Name Descriptor Classification attribute Parent &lt;Page&gt; Required no Syntax Descriptor=\"option\" Options character string used in compbination with ID to identify the Page <p>See also:  Page, ID</p>"},{"location":"administrator/elements_attributes/page/descriptor/#description","title":"Description","text":"<p>Descriptor is not a required attribute for the Page element. It is used in combination with the ID attribute (not required) to identify the Page element.</p> <p>The ID_Descriptor string combination appears as an identifier in the Slicer layout when displaying the images. It is also used in the subfolders created in the User's results folder when capturing contours and measurement lines that the user creates during the quiz.</p>"},{"location":"administrator/elements_attributes/page/id/","title":"Page ID","text":""},{"location":"administrator/elements_attributes/page/id/#specs","title":"Specs","text":"Details Name ID Classification attribute Parent &lt;Page&gt; Required yes Syntax ID=\"option\" Options character string used in compbination with Descriptor to identify the Page <p>See also:  Page, Descriptor</p>"},{"location":"administrator/elements_attributes/page/id/#description","title":"Description","text":"<p>ID is a required attribute for the Page element. It is used in combination with the Descriptor attribute (not required) to identify the Page element.</p> <p>The ID_Descriptor string combination appears as an identifier in the Slicer layout when displaying the images. It is also used in the subfolders created in the User's results folder when capturing contours and measurement lines that the user creates during the quiz.</p>"},{"location":"administrator/elements_attributes/page/looping/","title":"Looping Pages","text":""},{"location":"administrator/elements_attributes/page/looping/#script-setup","title":"Script Setup","text":""},{"location":"administrator/elements_attributes/page/looping/#next-button","title":"Next Button","text":""},{"location":"administrator/elements_attributes/page/looping/#changes-to-results-folder","title":"Changes to results folder","text":""},{"location":"administrator/elements_attributes/page/pagegroup/","title":"Page Groups","text":""},{"location":"administrator/elements_attributes/page/pagegroup/#specs","title":"Specs","text":"Value Details Name PageGroup Classification attribute Parent &lt;Page&gt; Required yes if &lt;Session&gt; has the RandomizePageGroups attribute set to \"Y\" no if &lt;Session&gt; does not have the RandomizePageGroups attribute or it is set to \"N\" Syntax PageGroup=\"option\" Options positive integer value group number assigned to a Page element <p>See also: Randomizing pages,  RandomizedPageGroupIndices</p>"},{"location":"administrator/elements_attributes/page/pagegroup/#description","title":"Description","text":"<p>The PageGroup number is used to keep certain pages together when randomizing is setup. All Pages with the same group number will appear consecutively (as read in from the master quiz file) and not randomized.</p> <p>This can be useful when a quiz is set up with a Page holding images that represent a time point in a patient's clinical journey (for example one of a number of follow up images). The administrator may want to keep all Pages for one patient in the same group.</p>"},{"location":"administrator/elements_attributes/page/pagegroup/#pagegroup0","title":"PageGroup=\"0\"","text":"<p>Any pages assigned a group number of 0 will always appear at the beginning of the quiz.  If more than one Page has a page group number of 0, these pages will appear in the order read in. The remaining pages are randomized. Following are some use cases for assigning pages to PageGroup=\"0\"</p> <ul> <li>present instructional information that applies to the quiz that follows</li> <li>isolate certain images that all observers will see at the beginning of the quiz before randomization in order to establish a baseline</li> </ul>"},{"location":"administrator/elements_attributes/page/pagegroup/#example","title":"Example","text":"<p>Master quiz:</p> <pre><code>&lt;Session RandomizePageGroups=\"Y\"&gt;\n    &lt;Page ID=\"Intro\" Description=\"Instructions\" PageGroup=\"0\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientA\" Description=\"Planning\" PageGroup=\"1\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientA\" Description=\"FollowUp 1\" PageGroup=\"1\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientB\" Description=\"Planning\" PageGroup=\"2\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientB\" Description=\"FollowUp 1\" PageGroup=\"2\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientC\" Description=\"Planning\" PageGroup=\"3\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientC\" Description=\"FollowUp 1\" PageGroup=\"3\"&gt;\n        ...\n    &lt;/Page&gt;\n&lt;/Session&gt;\n</code></pre> <p>Randomized Page Groups for User 1 :  RandomizedPageGroupIndices=\"3,1,2\"</p> <p>The user would see Pages presented in this order:</p> <pre><code>Intro_Instructions\nPatientC_Planning\nPatientC_Followup 1\nPatientA_Planning\nPatientA_Followup 1\nPatientB_Planning\nPatientB_Followup 1\n</code></pre>"},{"location":"administrator/elements_attributes/session/","title":"Session","text":""},{"location":"administrator/elements_attributes/session/#specs","title":"Specs","text":"Name Session Classification element Parent - Required yes Syntax &lt;Session&gt; <p>See also: Page</p>"},{"location":"administrator/elements_attributes/session/#description","title":"Description","text":"<p>Session is the root element in the XML tree. It is must exist in the XML quiz file as the outermost element.  It encompasses all the child Page elements defined for the study.</p>"},{"location":"administrator/elements_attributes/session/#example","title":"Example","text":"<pre><code>&lt;Session&gt;\n    &lt;Page&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page&gt;\n        ...\n    &lt;/Page&gt;\n&lt;/Session&gt;\n</code></pre>"},{"location":"administrator/elements_attributes/session/#attributes","title":"Attributes","text":""},{"location":"administrator/elements_attributes/session/#roicolorfile","title":"ROIColorFile","text":""},{"location":"administrator/elements_attributes/session/#randomizepagegroups","title":"RandomizePageGroups","text":""},{"location":"administrator/elements_attributes/session/#contourvisibility","title":"ContourVisibility","text":""},{"location":"administrator/elements_attributes/session/#emailresultsto","title":"EmailResultsTo","text":""},{"location":"administrator/elements_attributes/session/contour_visibility/","title":"Contour Visibility","text":""},{"location":"administrator/elements_attributes/session/contour_visibility/#specs","title":"Specs","text":"Details Name ContourVisibility Classification attribute Parent &lt;Session&gt; Required no Syntax ContourVisibility=\"option\" Options Outline (default) contours displayed as outlines Fill contours displayed as solid color"},{"location":"administrator/elements_attributes/session/contour_visibility/#description","title":"Description","text":"<p>The ContourVisibility attribute defines how contours  (label maps or segmentations) are displayed for the entire quiz - as an outline only or as a solid contour. The user has an opportunity to override this setting using the visibility toggle in  the Extra Tools tab.</p>"},{"location":"administrator/elements_attributes/session/contour_visibility/#options","title":"Options","text":"<ul> <li>Outline (default)</li> <li>display contours as outline only</li> <li>Fill     display as solid contours</li> </ul>"},{"location":"administrator/elements_attributes/session/contour_visibility/#example","title":"Example","text":""},{"location":"administrator/elements_attributes/session/email/","title":"Email results","text":""},{"location":"administrator/elements_attributes/session/email/#specs","title":"Specs","text":"Name EmailResultsTo Classification attribute Parent &lt;Session&gt; Required no Syntax EmailResultsTo=\"youremailaddress@example.com\""},{"location":"administrator/elements_attributes/session/email/#description","title":"Description","text":"<p>A feature of the Image Quizzer is to have a user's results folder emailed to the administrator upon completion of the quiz. Upon completion of the quiz, the user will be prompted to initiate the email process.</p> <p>The user has the option to delay the email process if he/she wants to review the quiz. If the user logs back in to review the quiz after quiz completion, the Image Quizzer will automatically prompt the user to initiate the email process. This is described in further detail in the section Zip results file.</p>"},{"location":"administrator/elements_attributes/session/email/#setup","title":"Setup","text":"<p>In order to activate this feature, there are 2 steps required.</p> <ul> <li>Create the file 'smtp_config.txt' in the Resources/Config directory:</li> <li>The administrator must add the 'EmailResultsTo' attribute to the Session element in the quiz xml file. </li> </ul>"},{"location":"administrator/elements_attributes/session/email/#smtp_config","title":"smtp_config","text":"<pre><code>Currently in this directory, you will find smtp_config_template.txt.\n</code></pre> <pre><code>.../\n   \u2514\u2500ImageQuizzer/\n     \u2514\u2500Resources/\n       \u2514\u2500Config/\n         \u2514\u2500smtp_config_template.txt\n</code></pre> <p>Copy this file and rename it smtp_config.txt to be edited with your  host email server details.</p> <pre><code>.../\n   \u2514\u2500ImageQuizzer/\n     \u2514\u2500Resources/\n       \u2514\u2500Config/\n         \u2514\u2500smtp_config_template.txt\n         \u2514\u2500smtp_config.txt\n</code></pre> <p>Following is the smtp_config.txt format:</p> <pre><code>[smtp]\nhost=your_host_server\nusername=address_of_your_host_email_account@example.com\npassword=app_password_of_your_host_email_account\nport=your_host_server_port_here\n</code></pre>"},{"location":"administrator/elements_attributes/session/email/#attribute-assignment","title":"attribute assignment","text":"<pre><code>&lt;Session EmailResultsTo=\"youremailaddress@example.com\"&gt;\n    ...\n&lt;/Session&gt;\n</code></pre>"},{"location":"administrator/elements_attributes/session/email/#zip-results-file","title":"Zip results file","text":"<p>With config file and attribute setup complete, the email process will begin once the user has completed the quiz and has pressed the Finish button. First, the user will see a pop-up window to confirm that the user wants to exit the quiz.</p> <p></p> <p>Pressing the OK button to exit will mark the quiz as complete and all responses are locked. Then the user is then prompted to email the results.</p> <p></p> <p>If 'Yes' is pressed, the module will zip up the user's quiz results folder (quizname.zip) and place it in the same folder where the quiz results are located. The zip file includes the results XML file as well as any Page folders containing  contour and markup files if any exist.</p> <pre><code>.\n\u2514\u2500ImageDatabase/\n   \u251c\u2500SlicerDicomDatabse/\n   \u2514\u2500Users/\n     \u251c\u2500Observer1/\n     \u2502 \u2514\u2500ObserverContouringStudy.zip\n     \u2502 \u2514\u2500ObserverContouringStudy.xml\n     \u251c\u2500Page1/\n     \u251c\u2500Page2/\n     \u2502...\n</code></pre> <p>This zip file will be attached to the email contents and sent to the email address assigned to the 'EmailResultsTo' attribute.</p> <p>If the user presses 'No' to the email prompt, the user can still reopen the quiz to email the results at a later time. When restarting the Image Quizzer to review a completed quiz, the following prompt will appsear:</p> <p></p> <p>If 'Yes' is pressed, the user can review the images but recorded responses can not be modified. During the review the user can either press Exit to start the exit/email processes or press Next until the last Page and QuestionSet is reached to start the exit/email stage.</p> <p>If 'No' is pressed, the module will take you directly to the exit and email stage.</p>"},{"location":"administrator/elements_attributes/session/randomizing/","title":"Randomizing Pages","text":""},{"location":"administrator/elements_attributes/session/randomizing/#specs","title":"Specs","text":"Details Name RandomizePageGroups Classification attribute Parent &lt;Session&gt; Required no Syntax RandomizePageGroups=\"option\" Options N (default) pages are not randomized Y pages are randomized <p>See also:  Page, PageGroup,  RandomizedPageGroupIndices</p>"},{"location":"administrator/elements_attributes/session/randomizing/#description","title":"Description","text":"<p>The Image Quizzer provides the ability to randomize the presentation of images for different observers automatically.</p> <p>By setting the RandomizePageGroups attribute to \"Y\", and assigning PageGroup numbers  to the Page elements, the Pages are presented to each observer in a randomized order.  The same randomized page order is maintained throughout the quiz. If the user logs out of the quiz session and resumes at a later time, the Pages are not re-randomized.</p> <p>The randomized PageGroup order is captured and stored in the results quiz file in the RandomizedPageGroupIndices element  so that the administrator knows the order in which the pages were presented for any observer and can cross-reference the displayed order  with the original master quiz file Pages.</p>"},{"location":"administrator/elements_attributes/session/randomizing/#setup","title":"Setup","text":"<p>In order to randomize the pages in the quiz, each Page element must have a PageGroup attribute. The quiz validator will make sure that if the RandomizePageGroups attribute is to \"Y\", there must be at least 2 unique PageGroup numbers assigned to different Pages. If not every Page has an assigned PageGroup number, the module will assign the remaining Pages with PageGroup  numbers consecutively. </p> <p>Note</p> <p>Question sets defined within a Page are never randomized. They will always appear in the order as defined in the Page of the master quiz file.</p>"},{"location":"administrator/elements_attributes/session/randomizing/#example","title":"Example","text":"<p>Master quiz:</p> <pre><code>&lt;Session RandomizePageGroups=\"Y\"&gt;\n    &lt;Page ID=\"Intro\" Description=\"Instructions\" PageGroup=\"0\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientA\" Description=\"Planning\" PageGroup=\"1\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientA\" Description=\"FollowUp 1\" PageGroup=\"1\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientB\" Description=\"Planning\" PageGroup=\"2\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientB\" Description=\"FollowUp 1\" PageGroup=\"2\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientC\" Description=\"Planning\" PageGroup=\"3\"&gt;\n        ...\n    &lt;/Page&gt;\n    &lt;Page ID=\"PatientC\" Description=\"FollowUp 1\" PageGroup=\"3\"&gt;\n        ...\n    &lt;/Page&gt;\n&lt;/Session&gt;\n</code></pre> <p>Randomized Page Groups for User 1 :  RandomizedPageGroupIndices=\"3,1,2\"</p> <p>The user would see Pages presented in this order:</p> <pre><code>Intro_Instructions\nPatientC_Planning\nPatientC_Followup 1\nPatientA_Planning\nPatientA_Followup 1\nPatientB_Planning\nPatientB_Followup 1\n</code></pre>"},{"location":"administrator/elements_attributes/session/roi_colorfile/","title":"ROI Color File","text":""},{"location":"administrator/elements_attributes/session/roi_colorfile/#specs","title":"Specs","text":"Details Name ROIColorFile Classification attribute Parent &lt;Session&gt; Required no Syntax ROIColorFile=\"colorfilename\" filename without .txt extension"},{"location":"administrator/elements_attributes/session/roi_colorfile/#description","title":"Description","text":"<p>The ROIColorFile attribute gives the administrator the ability to assign specific ROI names and colors that will appear as options when the user is contouring in the segment editor. This can be useful when you want to restrict the user to a specific set of ROI's and have each ROI categorized by color.</p>"},{"location":"administrator/elements_attributes/session/roi_colorfile/#setup","title":"Setup","text":"<p>To activate this feature, the administrator must create a .txt file in an editor using the syntax shown below. This file must be saved in the same folder as the study xml file.</p> <p>Syntax for each line in the text file:</p> <pre><code>roi# roi_name red green blue alpha\n</code></pre>"},{"location":"administrator/elements_attributes/session/roi_colorfile/#example","title":"Example","text":""},{"location":"administrator/elements_attributes/session/roi_colorfile/#setup_1","title":"Setup","text":"<p>A color file is assigned to a study for PI-Rads segmentation. The administrator creates a text file (PiRadsStudy_colors.txt) and places it in the same directory as the XML for this quiz (PIRADS_SegmentationStudy.xml).</p> <p>Tip</p> <p>In this example, these files are being placed in the default directory used by  Image Quizzer for XML files. This saves the user from having to browse to a  different directory.</p> <pre><code>.\n\n\u2514\u2500ImageQuizzer/\n  \u2514\u2500Resources/\n    \u2514\u2500XML/\n      \u251c\u2500PIRADS_SegmentationStudy.xml\n      \u2514\u2500PiRadsStudy_colors.txt\n\n</code></pre> <p>Add the attribute to the &lt;Session&gt; element.    </p> <pre><code>&lt;Session ROIColorFile=\"PiRadsStudy_colors\"&gt;\n    &lt;Page&gt;\n        ...\n    &lt;/Page&gt;\n&lt;/Session&gt;\n</code></pre> <p>Create the color text file.</p> <pre><code>PiRadsStudy_colors.txt\n\n1 PI-RADS_very_low 128 174 128 255\n2 PI-RADS_low 241 214 145 255\n3 PI-RADS_intermediate 177 122 101 255\n4 PI-RADS_high 111 184 210 255\n5 PI-RADS_very_high 191 2 34 255\n\n</code></pre>"},{"location":"administrator/elements_attributes/session/roi_colorfile/#usage","title":"Usage","text":"<p>To activate the color file popup in the Segment Editor, the user must press on the label's color bar.</p> <p></p>"},{"location":"extras/codingconventions/","title":"Coding Conventions","text":"prefix variable type i integer f float b logical s string dt datetime l list o class object dict dictionary x variable associated with xml sl variable associated with Slicer q variable associate with Python Qt compound variables ls list of strings li list of integers lls list of list of strings Examples iNumberOfCats a scalar integer oPerson an object of class Person loPets list of objects of class Pets"},{"location":"getting_started/","title":"Getting started","text":"<p>The Image Quizzer is a tool that was designed to run as a module on the 3D Slicer platform. Following you will find information to get the Image Quizzer installed and running on your computer.</p>"},{"location":"getting_started/#system-requirements","title":"System Requirements","text":"<ul> <li>Windows operating system (tested with Windows 7 and Windows 10)</li> <li> <p>Notepad (or some editor)</p> </li> <li> <p>3D Slicer v 4.11.20210226</p> </li> </ul> <p>TODO</p> <p>Currently, the Image Quizzer has been running on Windows operating systems (Windows 7 and 10).  With some adjustments to the installation notes, this may also run on a MAC system.</p>"},{"location":"getting_started/#installation","title":"Installation","text":""},{"location":"getting_started/#image-quizzer","title":"Image Quizzer","text":"<p>The Image Quizzer project is currently available with special access permission through GitHub. This will be made public in the near future.</p> <p>Once downloaded, the following directory tree describes the basic files and folders  that may be relevant to the study coordinator when developing the script. </p> <pre><code>.\n\u2514\u2500 ImageQuizzerProject/\n   \u251c\u2500 Documentation/\n   \u2502     \u251c\u2500 XML Elements and Attributes.xls (keywords to create the script)  \n   \u2502     \u2514\u2500 3D Slicer \u2013 Keyboard Shortcuts.docx (popular shortcuts for user when in quiz)  \n   \u251c\u2500 ImageQuizzer\n   \u2502     \u2514\u2500 Resources/\n   \u2502           \u251c\u2500 Config/\n   \u2502           \u2502    \u2514\u2500 smtp_config_template.txt   (smtp config setup template for emailing results)\n   \u2502           \u2514\u2500 XML/\n   \u2502                \u251c\u2500 Templates/\n   \u2502                \u2502     \u2514\u2500 *.xml   (XML basics templates for script development)\n   \u2502                \u2514\u2500 *.xsd   (XML schema file for script development)\n   \u251c\u2500ImageQuizzerStartup.bat   (starts the Image Quizzer and does cleanup on close)\n   \u2514\u2500ImageQuizzerShutdown.bat  (updated when running the quiz; may not exist on install)\n</code></pre> <p>Note</p> <p>Other files/folders not shown in this tree may be:</p> <ul> <li>required by the Image Quizzer module</li> <li>relevant only to code developers</li> <li>or under development</li> </ul> <p>One option is to set up a USB with encrypted study data, the XML quiz file  along with 3D Slicer and the Image Quizzer module already installed and set up. This USB can then be plugged into the observers laptop and the  (VeraCrypt is an application that can be used to encrypt data and mount the encrypted volume onto your PC; admin rights are required.)</p>"},{"location":"getting_started/#3d-slicer","title":"3D Slicer","text":"<p>Download and install 3D Slicer version 4.11.20210226</p> <pre><code>* https://download.slicer.org/download?os=win&amp;date=2021-02-26\n</code></pre> <p>Note</p> <p>We are using version 4.11.20210226; revision 29738</p> <p>Using any other version of Slicer may have unpredictable behavior for this application</p> <ul> <li>Double click on the downloaded .exe file</li> <li>Accept installation defaults</li> <li> <p>Install 3D Slicer extensions : SlicerRT, mpReview (optional)</p> <ul> <li>Open 3D Slicer</li> <li>Select View &gt; Extension Manager</li> <li>In the Search field (upper right-hand corner) input SlicerRT</li> <li>Click Install</li> <li>There will be a message to say the extension was installed</li> <li>Click on Restart (bottom right-hand corner) and OK</li> <li>Repeat for mpReview extension (optional)<ul> <li>Can be used as a preprocessor to convert dicom series to nrrd (or nifti) to speed up loading of images when running the quiz</li> </ul> </li> </ul> </li> <li> <p>Set Slicer application settings to be compatible with Image Quizzer</p> <ul> <li>Open 3D Slicer</li> <li>Select Edit&gt;Application Settings</li> <li>Select DICOM in the left-hand panel</li> <li>Set Preferred multi-volume import format = volume sequence</li> <li>Set Load referenced series = Always</li> <li>Restart 3D Slicer if prompted</li> </ul> </li> </ul>"},{"location":"getting_started/#connecting-image-quizzer-to-3d-slicer","title":"Connecting Image Quizzer to 3D Slicer","text":"<p>To connect the Image Quizzer module</p> <ul> <li>Open 3D Slicer</li> <li>Select Edit &gt; Application Settings</li> <li>Select Modules in the left-hand panel</li> <li>Click Add in the panel to the right of  \u201cAdditional module paths:\u201d (may have to click the \u2018&gt;&gt;\u2019 button)</li> <li>Search for folder named ImageQuizzer in the downloaded ImageQuizzerProject     !!! Example \"Example\"         C:\\Users\\username\\Documents\\ImageQuizzerProject\\ImageQuizzer)</li> <li>Restart 3D Slicer if prompted</li> </ul>"},{"location":"getting_started/#how-to-start-the-image-quizzer","title":"How to start the Image Quizzer","text":"<p>There are two ways to run the Image Quizzer.</p> <ol> <li> <p>Using the Startup batch file</p> <p>It is recommended that you use the startup batch file, especially if you are loading DICOM images. The observer needs to navigate to the ImageQuizzerProject folder</p> <p>Example</p> <p>C:\\Users\\username\\Documents\\ImageQuizzerProject</p> <p>and double click on the ImageQuizzerStartup.bat file. The startup batch file will start Slicer and immediately bring the user to the Image Quizzer login screen.</p> <p>When the user exits the quiz, the batch file will start a shutdown process that will cleanup the SlicerDicomDatabase folder that was created. This folder is created automatically whenever the Image Quizzer is started. Deleting this folder reduces the startup time when restarting the Image Quizzer.</p> <p>Note</p> <p>Both the Startup and Shutdown batch files have commands specific to the Windows environment. If using a MAC, start the Image Quizzer directly in Slicer as described below.</p> </li> <li> <p>Searching for the module in Slicer</p> <p>To start the module directly from Slicer, click in the Module box and look for Baines Custom Modules &gt; Image Quizzer</p> <p>Note</p> <p>If starting the Image Quizzer without using the Startup batch file and you are loading DICOM image data, you can speed up the restart  by deleting the SlicerDicomDatabase folder between Image Quizzer startups. This folder is created automatically whenever the Image Quizzer is started. This folder can be found wherever you have defined your image data location.</p> <p>Example</p> <p>If your image database is located here:</p> <ul> <li>C:\\Users\\username\\Documents\\ImageDatabase</li> </ul> <p>you will find the SlicerDicomDatabase folder here:</p> <ul> <li>C:\\Users\\username\\Documents\\ImageDatabase\\SlicerDicomDatabase</li> </ul> </li> </ol>"},{"location":"getting_started/#setup-for-remote-access","title":"Setup for remote access","text":"<p>One option for running the Image Quizzer is to install the tool on a PC that observers are able to log into remotely.</p> <p>Warning</p> <p>If you choose to have observers log into one PC, whether remotely or locally, it is recommended that each observer has their own login account. The login named associated with each observer is used to create the user's results folder.</p> <p>If you don't have unique accounts, you risk overwriting a previous user's results. You must move the current user's results folder into a secure area before the next observer starts the quiz. .</p> <p>There may be issues if you are setting up the Image Quizzer so that the users can log in remotely.  This is related to OpenGL which 3D Slicer uses for the graphical display. Using the Image Quizzer through remote access may depend on the following:</p> <ul> <li>Video card driver</li> <li>Operating system edition and version</li> <li>Device management settings</li> <li>Remote desktop access software</li> </ul> <p>We have had success using:</p> <ul> <li>Windows 10 Pro v 21H2</li> <li>NVIDIA Quadro 2000</li> <li>Windows Remote Desktop</li> <li>Other recommendations:</li> <li>Windows 10 must be used at both ends</li> <li>Google Remote Desktop, RealVNC, AnyDesk (free remote software options)</li> </ul>"},{"location":"user/","title":"User Guide","text":"<p>How to run the Image Quizzer</p>"},{"location":"user/#login","title":"Login","text":"<ul> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> <li>this</li> <li>is </li> <li>testing</li> <li>navigation</li> </ul>"},{"location":"user/#exit-and-resume","title":"Exit and Resume","text":"<ul> <li>now</li> <li>im</li> <li>in</li> <li>exit</li> </ul>"},{"location":"user/extratools/","title":"Extra Tools","text":"<p>Following are the extra tools available to the user.</p>"}]}